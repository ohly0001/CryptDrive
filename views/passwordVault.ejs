<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="author" content="Robert Ohly">
    <title>CryptDrive Password Vault</title>
    <script src="/js/passwordVault.js" defer></script>
    <link rel="stylesheet" href="/css/site.css">
</head>
<body>
    <%- include('components/nav') %>

    <h1>CryptDrive Password Vault</h1>

    <!-- ADD PASSWORD -->
    <button onclick="document.location.href='/pass/viewAdd';">Add Password</button>

    <!-- SEARCH PASSWORDS -->
    <form id="searchForm">
        <fieldset>
            <legend>Search for Passwords</legend>

            <label for="searchField">URL or Tag</label>
            <input id="searchField" type="text" placeholder="Enter URL or tag" title="Accepts Regex Patterns"><br>

            <label for="filterTag">Filter by Tag</label>
            <input id="filterTag" type="text" title="Whitespace Delimited">
            <div class="tagContainer" id="filterTags"></div>

            <input type="submit" value="üîç Search">
        </fieldset>
    </form>

    <!-- BATCH ACTIONS -->
    <div id="batchActions">
        <button type="button" id="selectAll">Select All</button>
        <button type="button" id="deselectAll">Deselect All</button>
        <button type="button" id="addTagSelected">Add Tag to Selected</button>
        <button type="button" id="removeTagSelected">Remove Tag From Selected</button>
        <button type="button" id="deleteSelected">Delete Selected</button>
        
        <labe for="batchTag">Tag</labe>
        <input id="batchTag" type="text">
    </div>

    <!-- PASSWORD LIST -->
    <div id="passwordContainer"></div>

    <!-- PAGINATION -->
    <div id="passwordPagination" style="display: flex; align-items: center; gap: 0.5em;">
        <label for="paginationSize">Items per page</label>
        <select id="paginationSize">
            <option value="10">10</option>
            <option value="25">25</option>
            <option value="50">50</option>
        </select>

        <span id="paginationSlice">1-10 of 100 Passwords</span>

        <button type="button" id="firstPage" title="First Page">‚è™</button>
        <button type="button" id="prevPage" title="Previous Page">‚¨ÖÔ∏è</button>

        <input id="currentPageNumber" type="number" value="1" min="1" aria-label="Current Page Number">
        <span>of <span id="totalPages">10</span></span>

        <button type="button" id="nextPage" title="Next Page">‚û°Ô∏è</button>
        <button type="button" id="lastPage" title="Last Page">‚è©</button>
    </div>

    <script>
        // Prevent all forms from submitting (we handle with JS)
        document.querySelectorAll('form').forEach(form => {
            form.addEventListener('submit', e => e.preventDefault());
        });
    </script>
</body>
</html>